<%- include('partials/landingPageHeader.ejs') %>

<!-- Breadcrumb Section Start -->
<section class="faq-breadcrumb pt-0">
  <div class="container-fluid-lg">
    <div class="row">
      <div class="col-12">
        <div class="breadcrumb-contain">
          <h2>Help Center</h2>
          <p>We are glad having you here looking for the answer. As our team hardly working on the
            product, feel free to ask any questions. We Believe only your feedback might move us
            forward.</p>
        </div>
      </div>
    </div>
  </div>
</section>
<!-- Breadcrumb Section End -->

<!-- Faq Section Start -->
<section class="faq-box-contain section-b-space">
  <div class="container">
    <div class="row">
      <div class="col-xl-5">
        <div class="faq-contain">
          <h2>Frequently Asked Questions</h2>
          <p>We are answering most frequent questions. No worries if you not find exact one. You can find
            out more by searching or continuing clicking button below or directly <a href="contact-us.html" class="theme-color text-decoration-underline">contact our
              support.</a></p>
        </div>
      </div>

      <div class="col-xl-7">
        <div class="faq-accordion">
          <div class="accordion" id="accordionExample">
            <div class="accordion-item">
              <h2 class="accordion-header" id="headingOne">
                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne">
                  What is an FAQ section?<i class="fa-solid fa-angle-down"></i>
                </button>
              </h2>
              <div id="collapseOne" class="accordion-collapse collapse show" data-bs-parent="#accordionExample">
                <div class="accordion-body">
                  <p>An FAQ section can be used to quickly answer common questions about your business like "Where do you ship to?", "What are your opening hours?", or "How can I book a service?".</p>
                </div>
              </div>
            </div>

            <div class="accordion-item">
              <h2 class="accordion-header" id="headingTwo">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo">
                  What payment methods do you accept?<i class="fa-solid fa-angle-down"></i>
                </button>
              </h2>
              <div id="collapseTwo" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
                <div class="accordion-body">
                  <p>For now, we accept payment via bank transfers</p>
                </div>
              </div>
            </div>

            <div class="accordion-item">
              <h2 class="accordion-header" id="headingThree">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree">
                  How can I track my order?<i class="fa-solid fa-angle-down"></i>
                </button>
              </h2>
              <div id="collapseThree" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
                <div class="accordion-body">
                  <p>A tracking Id or link will be sent  to your  email when the  order have been shipped or you can go to your account section and click on orders menu to see your orders and their status</p>
                </div>
              </div>
            </div>

            <div class="accordion-item">
              <h2 class="accordion-header" id="headingFour">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour">
                  What should I do if I receive a damaged or incorrect item?<i class="fa-solid fa-angle-down"></i>
                </button>
              </h2>
              <div id="collapseFour" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
                <div class="accordion-body">
                  <p>If you receive a damaged or incorrect item, please contact our customer service team within 48 hours of receiving your order. We will assist you with returning the item and sending a replacement or issuing a refund.</p>
                </div>
              </div>
            </div>

            <div class="accordion-item">
              <h2 class="accordion-header" id="headingFive">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFive">
                  How do I create an account?<i class="fa-solid fa-angle-down"></i>
                </button>
              </h2>
              <div id="collapseFive" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
                <div class="accordion-body">
                  <p>To create an account, click on the "Register" button at the top right corner of our website and fill out the registration form with your details. Once registered, you can log in to view your order history and manage your account settings.</p>
                </div>
              </div>
            </div>

            <div class="accordion-item">
              <h2 class="accordion-header" id="headingSix">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSix">
                  Can I save items to my wishlist?<i class="fa-solid fa-angle-down"></i>
                </button>
              </h2>
              <div id="collapseSix" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
                <div class="accordion-body">
                  <p>Yes, you can save items to your wishlist by clicking the "Add to Wishlist" button on the product page. This allows you to easily find and purchase your favorite items later.</p>
                </div>
              </div>
            </div>

            <div class="accordion-item">
              <h2 class="accordion-header" id="headingSeven">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSeven">
                  How do I contact customer support?<i class="fa-solid fa-angle-down"></i>
                </button>
              </h2>
              <div id="collapseSeven" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
                <div class="accordion-body">
                  <p>You can contact our customer support team via email at <a href="mailto:support@michael-enterprise.com">support@michael-enterprise.com</a>, through our live chat feature on the website, or by calling our customer service hotline. We are available to assist you during our business hours.</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
<!-- Faq Section End -->

<script>
  // Find suggestions on input event
  const searchInputField = document.querySelector('.suggestions');

  if (searchInputField) {
    searchInputField.addEventListener('input', async function(e) {
      e.preventDefault();
      const query = searchInputField.value;

      if (query.length > 0) {
        const suggestions = document.querySelectorAll('.list-of-suggestions');
        suggestions.forEach((input) => {
          input.style.display = 'block';
        });

        // Make sure there is something to search for
        try {
          // Correctly format the query parameter with '='
          const res = await fetch(
            `/api/v1/products/find?name=${encodeURIComponent(query)}`,
          );

          // Check if the response is okay (status 200-299)
          if (res.ok) {
            const data = await res.json();
            console.log(data);

            const suggestions = document.querySelectorAll('.list-of-suggestions');

            suggestions.forEach((input) => {
              input.innerHTML = '';
              data.data.products.forEach((product) => {
                const li = document.createElement('li');
                // Set inline styles
                li.style.padding = '5px'; // Add some padding
                li.style.backgroundColor = '#fff'; // Light background color
                li.style.cursor = 'pointer'; // Change cursor to pointer
                li.style.transition = 'background-color 0.3s'; // Transition for hover effect
                li.style.display = 'block';
                li.style.width = '100%';
                li.style.boxShadow = '0 2px 5px rgba(0, 0, 0, 0.2)';

                // Add hover effect using mouse events
                li.addEventListener('mouseover', () => {
                  li.style.backgroundColor = '#e0e0e0'; // Darker on hover
                });

                li.addEventListener('mouseout', () => {
                  li.style.backgroundColor = '#f9f9f9'; // Revert on mouse out
                });

                li.textContent = product.name;
                input.appendChild(li);

                // Define a custom slugify function
                function slugify(text) {
                  return text
                    .toString()
                    .toLowerCase()
                    .trim()
                    .replace(/\s+/g, '-') // Replace spaces with -
                    .replace(/[^\w\-\.]+/g, '') // Remove all non-word chars except dot
                    .replace(/\-\-+/g, '-'); // Replace multiple - with single -
                }

                // Apply slugify to the list item's textContent
                li.addEventListener('click', () => {
                  const slug = slugify(li.textContent);
                  window.location.href = `/search?search=${slug}`; // Redirect to the product link with slug
                });
              });
            });

            // You can call a function to display suggestions here
            // displaySuggestions(data);
          } else {
            console.error('Error fetching suggestions:', res.statusText);
          }
        } catch (err) {
          console.error('Fetch error:', err);
        }
      } else {
        // Optionally clear suggestions if input is empty
        const suggestions = document.querySelectorAll('.list-of-suggestions');
        suggestions.forEach((input) => {
          input.style.display = 'none';
        });
      }
    });
  }

  const searchBtn = document.querySelectorAll('.search-btn');
  const searchInputs = document.querySelectorAll('.suggestions');

  if (searchBtn && searchInputs) {
    // Handle search button clicks
    searchBtn.forEach((button) => {
      button.addEventListener('click', function(e) {
        e.preventDefault();
        handleSearch();
      });
    });

    // Handle pressing the 'Enter' key in the search input
    searchInputs.forEach((input) => {
      input.addEventListener('keypress', function(e) {
        if (e.key === 'Enter' && input.value.trim().length > 0) {
          e.preventDefault();
          handleSearch();
        }
      });
    });
  }

  // Search handling logic
  function handleSearch() {
    searchInputs.forEach((input) => {
      const query = input.value.trim();
      if (query.length > 0) {
        // Define a custom slugify function
        function slugify(text) {
          return text
            .toString()
            .toLowerCase()
            .trim()
            .replace(/\s+/g, '-') // Replace spaces with -
            .replace(/[^\w\-\.]+/g, '') // Remove all non-word chars except dot
            .replace(/\-\-+/g, '-'); // Replace multiple - with single -
        }

        const slug = slugify(query);
        window.location.href = `/search?search=${slug}`; // Redirect to the product link with slug
      }
    });
  }
</script>

<%- include('partials/landingPageFooter.ejs') %>